@model IEnumerable<IRRM.Models.Incident>

<script src="@Url.Content("~/assets/js/jquery.min.js")"></script>
<link href="@Url.Content("~/assets/plugins/datatables/jquery.dataTables.min.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/assets/plugins/datatables/buttons.bootstrap.min.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/assets/plugins/datatables/dataTables.bootstrap.min.css")" rel="stylesheet" type="text/css" />
@{

    ViewBag.Title = "Index";
}
<style>
    .form-control {
        width: 100%;
    }
</style>


<div class="content-page">
    <!-- Start content -->
    <div class="content">

        <div class="container">

            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-primary">
                        <div class="panel-body">
                            <h2 class="col-md-6">Incidents</h2>
                           
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div class="page-content-wrapper ">

            <div class="container">



                <div class="row">
                    <div class="col-md-12">
                        <div class="panel panel-primary">
                            <div class="panel-body">



                                <table id="datatable-buttons" class="table table-striped table-bordered">
                                    <tr>
                                        <th>
                                            Incident No 
                                        </th>
                                        <th>
                                          Created Date 
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Summary)
                                        </th>
                                       
                                        <th>
                                            Incident Sub Type
                                        </th>
                                        <th>
                                            Incident Type
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Location_M.Location)
                                        </th>
                             
                                        <th>Action</th>
                                    </tr>

                                    @foreach (var item in Model)
                                    {
                                        <tr>
                                            <td>
                                               
                                                @(item.IncidentNo != null ? "IR-" + item.IncidentNo : "")
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.IncidentCreatedDate)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Summary)
                                            </td>
                                           
                                            <td>
                                                @Html.DisplayFor(modelItem => item.IncidentSubTypes_M.IncidentSubType)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.IncidentTypes_M.IncidentType)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Location_M.Location)
                                            </td>
                                   
                                            <td>
                                                
                                                @Html.ActionLink("Details", "Details", new { id = item.IncidentID })  
                                               
                                            </td>
                                        </tr>
                                    }
                                </table>
                            </div>
                        </div>

                    </div>
                </div>

            </div>


        </div>
    </div>
</div>